{% extends 'fooodie/home.html' %}
{% load staticfiles %}


		{% block title_block %}
		Leaderboard
		{% endblock %}

{% block body_block %}
<section class="mosh-portfolio-area section_padding_100_0 clearfix">
<div class="section-heading text-center">
<h1>Leaderboard</h1>
<p>Our best users and the best pictures!</p>
</div>

<div class="section-heading text-center">
		<div class="row">
			<div class="col">
				<div class="heading-leaderboard text-center">
				<h3>These are our best users</h3>
				<div class="row">
					<div class="col">
							<div class="fooodie-window">
							  <div class="fooodie-window-body">
								<div class="gui-window-awards">
								  <ul class="fooodie-awards-row fooodie-awards-header">
									<li class="fooodie-awards-header-star">Profile pic</li>
									<li class="fooodie-awards-header-title">User</li>
									<li class="fooodie-awards-header-time">Total Votes</li>
									<li class="fooodie-awards-header-time">Position</li>
								  </ul>
								  {% if top_profiles %}
								  {% for profile, position in top_profiles %}
									<ul class="fooodie-awards-row fooodie-awards-row-even">
									  {% if profile.picture %}
										<li class="fooodie-awards-star"><img src="{{ profile.picture.url }}" class = "profile-pic-leaderboard"/></li>
									  {% else %}
										<li class="fooodie-awards-star"><img src="{% static 'images/defaultprofilefoto.jpg' %}" class = "profile-pic-leaderboard"/></li>
									  {% endif %}
									  <li class="fooodie-awards-title"><a href="{% url 'fooodie:user_profile' profile.slug %}">{{ profile.user.username }}</a>
									  {% if position == 1 %}
										<div class="fooodie-awards-subtitle">Our favorite</div>
										{% elif position == 2 %}
										 <div class="fooodie-awards-subtitle">Not the best but good enough</div>
										{% elif position == 3 %}
										<div class="fooodie-awards-subtitle">Third one, well done</div>
										{% else %}
										<div class="fooodie-awards-subtitle">Nahhh just another loser</div>
										{% endif %}
										</li>
										<li class="fooodie-awards-time">{{profile.totalVotes}}</li>
										<li class="fooodie-awards-time">{{ position }}ยบ</li>
									  </ul>
								  {% endfor %}
								  {% else %}
									<strong>There are no profiles</strong>
								  {% endif %}
								</div>
							  </div>
							</div>
					</div>	
				</div>
				</div>
			</div>
			<div class="col">
				<h3> Here are the top ranking photos </h3>
					<div class="section-heading text-center">
					{% if top_pics %}
						{% for pic in top_pics %}
						<div class="row">
										<a href="{{ pic.photo.url }}" class="photography-entry img image-popup d-flex justify-content-start align-items-end" style="background-image: url({{ pic.photo.url }}); width: 75%;">
										<div class="overlay"> </div>
											<div class="text ml-6 mb-6">
												<h3>{{ pic.name }}</h3>
												<span class="tag">Author: {{ pic.user.user.username }}</span><br>
												<span class="tag">Number of votes: {{ pic.votes }}</span><br>
												
											</div>
										</a>
						</div>
						{% endfor %}
					{% else %}
						<strong>There are no pictures</strong>
					{% endif %}
				
			</div>
		</div>
	</div>
	

</section>
{% endblock %}

